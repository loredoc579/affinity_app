{
  "compilerOptions": {
    // 1) Usa “nodenext” (tutto lowercase) se vuoi ESM con Node 16+
    "module": "nodenext",
    "moduleResolution": "nodenext",

    // 2) Target ES2020 è perfetto, ma assicurati di includere le lib
    "target": "es2020",
    "lib": ["es2020"],

    // 3) Abilita l’interoperabilità CommonJS ↔ ESM
    "esModuleInterop": true,
    "resolveJsonModule": true,

    // 4) Evita di far fallire la build per mismatch di tipi nelle dipendenze
    "skipLibCheck": true,

    // 5) Le altre regole di qualità rimangono
    "strict": true,
    "noImplicitReturns": true,
    "noUnusedLocals": true,

    // 6) Dove mettere il JS compilato
    "outDir": "lib",
    "sourceMap": true
  },
  "include": ["src"]
}
